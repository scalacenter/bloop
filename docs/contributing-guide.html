<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Contributing to bloop · Bloop</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="## Requirements"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Contributing to bloop · Bloop"/><meta property="og:type" content="website"/><meta property="og:url" content="https://scalacenter.github.io/bloop/"/><meta property="og:description" content="## Requirements"/><meta property="og:image" content="https://scalacenter.github.io/bloop/img/docusaurus.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://scalacenter.github.io/bloop/img/docusaurus.png"/><link rel="shortcut icon" href="/bloop/img/favicon/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/mono-blue.min.css"/><link rel="stylesheet" href="/bloop/css/code-block-buttons.css"/><script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="/bloop/scripts/code-block-buttons.js"></script><script src="/bloop/js/scrollSpy.js"></script><link rel="stylesheet" href="/bloop/css/main.css"/><script src="/bloop/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/bloop/"><img class="logo" src="/bloop/img/impure-logo-bloop.svg" alt="Bloop"/><h2 class="headerTitleWithLogo">Bloop</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/bloop/setup" target="_self">Install</a></li><li class="siteNavGroupActive"><a href="/bloop/docs/what-is-bloop" target="_self">Docs</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><li class=""><a href="https://github.com/scalacenter/bloop" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>References</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">General</h3><ul class=""><li class="navListItem"><a class="navItem" href="/bloop/docs/what-is-bloop">What is Bloop</a></li><li class="navListItem"><a class="navItem" href="/bloop/docs/integration">Integration Guide</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">CLI</h3><ul class=""><li class="navListItem"><a class="navItem" href="/bloop/docs/cli/tutorial">CLI tutorial</a></li><li class="navListItem"><a class="navItem" href="/bloop/docs/cli/reference">CLI --help</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Build Tools</h3><ul class=""><li class="navListItem"><a class="navItem" href="/bloop/docs/build-tools/overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/bloop/docs/build-tools/sbt">sbt</a></li><li class="navListItem"><a class="navItem" href="/bloop/docs/build-tools/maven">Maven</a></li><li class="navListItem"><a class="navItem" href="/bloop/docs/build-tools/gradle">Gradle</a></li><li class="navListItem"><a class="navItem" href="/bloop/docs/build-tools/mill">Mill</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">IDEs</h3><ul class=""><li class="navListItem"><a class="navItem" href="/bloop/docs/ides/overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/bloop/docs/ides/intellij">IntelliJ</a></li><li class="navListItem"><a class="navItem" href="/bloop/docs/ides/metals">Metals</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">References</h3><ul class=""><li class="navListItem"><a class="navItem" href="/bloop/docs/debugging-reference">Debugging Reference</a></li><li class="navListItem"><a class="navItem" href="/bloop/docs/performance-guide">Performance guide</a></li><li class="navListItem"><a class="navItem" href="/bloop/docs/server-reference">Build Server</a></li><li class="navListItem"><a class="navItem" href="/bloop/docs/bloop-rifle">Built-in Launcher</a></li><li class="navListItem"><a class="navItem" href="/bloop/docs/configuration-format">JSON Configuration</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/bloop/docs/contributing-guide">Contributing Guide</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/scalacenter/bloop/edit/main/docs/contributing-guide.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">Contributing to bloop</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="requirements"></a><a href="#requirements" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Requirements</h2>
<ol>
<li>Install Java 8 and sbt on your machine.</li>
<li>Follow the <a href="https://scala-native.readthedocs.io/en/v0.3.9-docs/user/setup.html">Scala Native environment setup guide</a></li>
<li>Check that you have Node v12.10.0 or newer by running <code>node -v</code></li>
<li>Read and abide by the <a href="https://www.scala-lang.org/conduct/">Scala Code of Conduct</a>.</li>
</ol>
<h2><a class="anchor" aria-hidden="true" id="ensure-youre-in-the-right-repo"></a><a href="#ensure-youre-in-the-right-repo" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ensure you're in the right repo</h2>
<p>Before getting started you'll want to make sure you're in the right place. Some
tools like <a href="https://com-lihaoyi.github.io/mill/mill/Intro_to_Mill.html">Mill</a>
have their Bloop integration built-in, whereas others like
<a href="https://www.scala-sbt.org/">sbt</a> are in here. If you're working on an
integration, make sure it's in this repo.</p>
<p>If you're making changes to the actual config structure, you'll want to make
those changes in the
<a href="https://github.com/scalacenter/bloop-config">scalacenter/bloop-config</a> repo,
which will then need to be released and included in this build.</p>
<p>If you're looking for the Maven integration, then you'll want to make those
changes in
<a href="https://github.com/scalacenter/bloop-maven-plugin">scalacenter/bloop-maven-plugin</a>.</p>
<p>If you're looking to the Gradle integration, then you'll want to make those
changes in
<a href="https://github.com/scalacenter/gradle-bloop">scalacenter/gradle-bloop</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="project-structure"></a><a href="#project-structure" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Project structure</h2>
<p>Here's a list of the most important directories in the bloop repositories.</p>
<ol>
<li><code>backend</code> defines low-level compiler APIs wrapping Zinc APIs.</li>
<li><code>frontend</code> defines the core of bloop, the task scheduling, the CLI and all the supported tasks: compilation, testing, running and linking.</li>
<li><code>integrations</code> contains the sbt plugin to extract any sbt build to bloop.</li>
</ol>
<p>When contributing to bloop, you will most likely need to modify code in the
above directories. The next directories define the rest of the project and
tooling infrastructure.</p>
<ol>
<li><code>bridges</code> contains Scala code written against Scala.js and Scala Native tooling APIs in a version-agnostic way.</li>
<li><code>buildpress</code> is an application that given a list of <code>(project-name, vcs-uri)</code> will export a build to bloop.</li>
<li><code>docs</code> and <code>docs-gen</code> define our docs infrastructure.</li>
<li><code>benchmark-bridge</code> and <code>benchmarks</code> define our compiler benchmark infrastructure.</li>
<li><code>bloop-rifle</code> is a module to start a bloop server and establish a
bsp/cli connection to it.</li>
<li><code>website</code> contains the <a href="https://docusaurus.io/">Docusaurus</a> code of our website.</li>
</ol>
<h2><a class="anchor" aria-hidden="true" id="set-the-repository-up"></a><a href="#set-the-repository-up" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Set the repository up</h2>
<ol>
<li>Clone the <a href="https://github.com/scalacenter/bloop">GitHub repository</a></li>
<li>Change directory to bloop's base directory and run <code>git submodule update --init</code></li>
<li>Run the sbt shell in the base directory.</li>
</ol>
<p>If the sbt shell did not fail, you already have a working bloop build in your
machine.</p>
<p>To hack on the bloop repository you can use either
<a href="https://scalameta.org/metals/">Metals</a> or
<a href="https://www.jetbrains.com/idea/">IntelliJ</a>. Open the project and import the
build in order to get started.</p>
<h2><a class="anchor" aria-hidden="true" id="learn-the-developer-workflow"></a><a href="#learn-the-developer-workflow" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Learn the developer workflow</h2>
<p>The recommended way to build and hack on bloop is by using bloop. Run
<code>bloopInstall</code> in your sbt shell if you are not using Metals to export the build to the
<code>.bloop/</code> configuration directory.</p>
<h3><a class="anchor" aria-hidden="true" id="common-commands"></a><a href="#common-commands" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Common commands</h3>
<p>Once the build is exported, here are a few commands to test your changes.</p>
<ol>
<li><code>bloop test backend</code> runs unit tests for the <code>backend/</code> project.</li>
<li><code>bloop test frontend</code> runs unit tests for most of the build server. This is the most common command to run.</li>
<li><code>bloop test frontend -o bloop.CompileSpec</code> will test only the compilation spec.</li>
<li><code>bloop test frontend -o bloop.DeduplicationSpec -- &quot;bloop.DeduplicationSpec.three concurrent clients deduplicate compilation&quot;</code> will test only that particular test case in the <code>DeduplicationSpec</code> test suite.</li>
</ol>
<h3><a class="anchor" aria-hidden="true" id="write-commit-messages"></a><a href="#write-commit-messages" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Write commit messages</h3>
<p>Write concise commit messages, with a capital letter at the beginning of the
commit message and with a potential description of what your change does so
that future code wanderers can understand what your contribution is.</p>
<p><strong>Tip</strong>: If you're only making changes to the docs, add <code>[DOCS]</code> to the commit
message so that Bloop does not run tests for your commit.</p>
<h2><a class="anchor" aria-hidden="true" id="install-a-snapshot-release"></a><a href="#install-a-snapshot-release" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Install a SNAPSHOT release</h2>
<p>When a PR is merged in <code>scalacenter/bloop</code>, the CI cuts a new release
available to any Bloop user. The version number of the latest SNAPSHOT
release can be found in the version table available in the <a href="/bloop/setup">Installation
guide</a>. It has a stable version number to
make dependencies reproducible.</p>
<h3><a class="anchor" aria-hidden="true" id="depend-on-snapshot-releases"></a><a href="#depend-on-snapshot-releases" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Depend on SNAPSHOT releases</h3>
<p>The table in <a href="/bloop/setup">the setup page</a> shows the latest stable and
SNAPSHOT versions available. Pick either.</p>
<p>Then take a look at the list of published artifacts in <a href="https://search.maven.org/search?q=g:ch.epfl.scala%20a:bloop*">this Sonatype
link</a> and add
them to your project. For example, to depend on the latest SNAPSHOT of bloop
launcher in sbt, add the following to your project:</p>
<pre><code class="hljs css language-scala">libraryDependencies += <span class="hljs-string">"ch.epfl.scala"</span> % <span class="hljs-string">"bloop-rifle"</span> % <span class="hljs-string">"$VERSION"</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="install-a-snapshot-release-in-your-machine"></a><a href="#install-a-snapshot-release-in-your-machine" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Install a SNAPSHOT release in your machine</h3>
<p>If you want to install a SNAPSHOT bloop version in your machine because, for
example, you want to use the CLI or integrate it with a local build tool and
editor, follow these steps:</p>
<ol>
<li>Checkout the commit in main you want to use.</li>
<li>Run <code>sbt install</code>. After the command runs, you have:
<ul>
<li>Built all modules in the bloop repository.</li>
<li>Generated installation scripts and package manager formulas.</li>
</ul></li>
</ol>
<p>The logs contain the paths of every installation resource that has been
generated by <code>install</code>.</p>
<h4><a class="anchor" aria-hidden="true" id="homebrew"></a><a href="#homebrew" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Homebrew</h4>
<p>If you have installed bloop via <code>brew</code>, look for the path of the Homebrew
formula (ending in <code>.rb</code>) in the installation logs and run <code>brew upgrade --build-from-source $LOCAL_HOMEBREW_FORMULA</code>.</p>
<p>Then, <strong>restart the bloop server</strong> to pick up the new installed version.</p>
<p>The command to run depends on how you have run the bloop server, the <a href="/bloop/docs/server-reference">Build
Server reference</a> explains the available startup mechanisms. For
example, if you're a macOS user and use <code>brew services</code>, restart the server
with <code>brew services restart bloop</code>.</p>
<h4><a class="anchor" aria-hidden="true" id="scoop"></a><a href="#scoop" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Scoop</h4>
<p>If you have installed bloop via <code>scoop</code>, look for the path of the Scoop
formula in the installation logs and upgrade bloop with the <code>scoop</code> CLI.</p>
<p>Then, <strong>restart the bloop server</strong> to pick up the new installed version.</p>
<p>The command to run depends on how you have run the bloop server, the <a href="/bloop/docs/server-reference">Build
Server reference</a> explains the available startup mechanisms.</p>
<h4><a class="anchor" aria-hidden="true" id="generic-installation-most-common"></a><a href="#generic-installation-most-common" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Generic installation (most common)</h4>
<p>If you have installed bloop via the CURL script in the website, you can use a
local Python script to override your installation in <code>$HOME/.bloop</code>:</p>
<ol>
<li>Give executable permission to the install script: <code>chmod +x $BLOOP_REPO/frontend/target/install.py</code>.</li>
<li>Run script with <code>./$BLOOP_REPO/frontend/target/install.py</code>.</li>
</ol>
<p>You will roughly see something like this:</p>
<pre><code class="hljs">Downloading Bloop<span class="hljs-string">'s coursier version, this may take some seconds...
Installed bloop server in '</span><span class="hljs-regexp">/home/user/</span>.bloop/blp-server<span class="hljs-string">'
Installed bloop client in '</span><span class="hljs-regexp">/home/user/</span>.bloop/bloop<span class="hljs-string">'
HTTP Error 404: Not Found
Couldn'</span>t download https://raw.githubusercontent.com/scalacenter/bloop/v1<span class="hljs-number">.2</span><span class="hljs-number">.5</span>+<span class="hljs-number">464</span><span class="hljs-number">-0159</span>c1c3+<span class="hljs-number">20190529</span><span class="hljs-number">-1423</span>/etc/zsh/_bloop, please <span class="hljs-keyword">try</span> again.
</code></pre>
<p>You can safely ignore the HTTP error and <strong>restart the bloop server</strong> to
pick up the new installed version.</p>
<p>The command to run depends on how you have run the bloop server, the <a href="/bloop/docs/server-reference">Build
Server reference</a> explains the available startup mechanisms. For
example, if you're a Linux user and use <code>systemd</code>, restart the server with
<code>systemctl --user restart bloop</code>.</p>
<h3><a class="anchor" aria-hidden="true" id="verify-the-installation-of-a-snapshot-release"></a><a href="#verify-the-installation-of-a-snapshot-release" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Verify the installation of a SNAPSHOT release</h3>
<p>Then, restart the bloop server to pick up the new local version. Verify the
local installation by comparing the SNAPSHOT version you wanted to install
with the version of the running server.</p>
<pre><code class="hljs css language-bash">➜ bloop v2.0.0

Using Scala v2.12.19 and Zinc v1.10.1
Running on Java JDK v21 (/usr/lib/jvm/openjdk21)
  -&gt; Supports debugging user code, Java Debug Interface (JDI) is available.
Maintained by the Scala Center and the community.

</code></pre>
<p>Note the bloop version number in the first line of the above logs.</p>
<h2><a class="anchor" aria-hidden="true" id="updating-documentation"></a><a href="#updating-documentation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Updating documentation</h2>
<h3><a class="anchor" aria-hidden="true" id="prerequisites"></a><a href="#prerequisites" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Prerequisites</h3>
<ol>
<li><code>yarn</code> is installed - Instructions <a href="https://classic.yarnpkg.com/lang/en/docs/install/">here</a></li>
<li><code>docusaurus</code> is installed in <code>yarn</code> - run <code>yarn add docusaurus</code></li>
</ol>
<h3><a class="anchor" aria-hidden="true" id="running"></a><a href="#running" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Running</h3>
<p>The workflow to update the documentation is the following:</p>
<ol>
<li>Run the docs generation via <code>bloop run docs -w</code> or <code>~docs/run</code> if you're using the sbt shell.</li>
<li>Run <code>yarn start</code> inside the <code>website/</code> directory. Yarn will start a local web server with the current state of the docs.</li>
<li>Locate the Markdown file you want to edit</li>
<li>Make a change in the Markdown file. The first command will automatically rebuild the docs and the second one will show it in the browser.</li>
</ol>
<p>If the previous procedure doesn't show a change because, for example, you
modified the name of a sidebar or the title of a documentation page, type
<kbd>CTRL</kbd>+<kbd>C</kbd> on the <code>yarn start</code> process and run it again.
Docusaurus doesn't incrementally rebuild changes to the Markdown page
indices.</p>
<h2><a class="anchor" aria-hidden="true" id="releasing"></a><a href="#releasing" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Releasing</h2>
<ul>
<li><p>Draft the release notes:</p>
<ul>
<li>You might use the <code>./bin/release_notes.sc</code> script to generate merged PRs list
between the two last release tags. It can be run using ammonite:</li>
</ul>
<pre><code class="hljs">cs install ammonite
amm .<span class="hljs-meta-keyword">/bin/</span>merged_prs.sc <span class="hljs-params">&lt;tag1&gt;</span> <span class="hljs-params">&lt;tag2&gt;</span> <span class="hljs-string">"&lt;github_api_token&gt;"</span> &gt; notes/<span class="hljs-params">&lt;tag2&gt;</span>.md
</code></pre>
<p>It will need a basic github API token to run, which may be specified via
an environment variable, <code>GITHUB_TOKEN</code>, or via the last argument.</p>
<p>The release notes must end up in the <code>notes</code> directory so that it can be later
picked up by the bot.</p>
<ul>
<li>Create a PR with the release notes and wait for approvals</li>
<li>Merge the PR!</li>
</ul></li>
<li><p>Release:</p>
<ul>
<li>Sync changes with the recent main</li>
<li>Change the tag to point to the most recent commit with the release notes.</li>
<li>Make sure that all the jobs are finished! This is important as some jobs are
delayed and if we push too early not all the neccessary steps will succeed.</li>
<li>Push the new tag and wait for the release</li>
</ul></li>
<li><p>Announce the release after the release notes are published in the most recent
release.</p></li>
</ul>
<h1><a class="anchor" aria-hidden="true" id="best-effort-compilation-pipeline"></a><a href="#best-effort-compilation-pipeline" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Best effort compilation pipeline</h1>
<p>As of writing this part of the doc this is an experimental set of settings implemented
in the Scala 3 compiler (starting with 3.5.x). They allow the compiler to return artifacts
even when the compilation fails (returning <code>.betasty</code> files instead of <code>.class</code> and <code>.tasty</code>).
It also at this point does not support incremental compilation. This all requires special
handling from the build tool, mostly located in <code>Compiler.scala</code>, <code>CompileTask.scala</code>
and <code>CompileGraph.scala</code>:</p>
<ul>
<li>We save best effort artifacts separately, and allow dependent projects to compile using
that, even when the compilation has failed. If the project compiles we discard the best effort
artifacts.</li>
<li>First, we try compiling partially (only the modified files), expecting regular successful compilation</li>
<li>If that at some point fails, we discard the immediate results and recompile the whole module
expecting .betasty files. We do not ever move them to a readOnly directory. That readOnly directory
is also not used in dependent compilations.</li>
<li>We do not try to recompile if we know we are compiling the whole module to begin with (e.g. because we
are depending on .betasty from different project, or because this is the first compilation and we
do not have any previous incremental compilation analysis).</li>
<li>If we try to recompile a module that we previously compiled for .betasty, we once again, try to
recompile it 2 times - once incrementally expecting success (recompiling all files changed since
the last successful compilation, as dictated by the incremental compilation analysis) and then
recompile all - this works out to be faster than discarding the last successful result and jumping
between full successful recompilation and full best effort recompilation.</li>
</ul>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/bloop/docs/configuration-format"><span class="arrow-prev">← </span><span>JSON Configuration</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#requirements">Requirements</a></li><li><a href="#ensure-youre-in-the-right-repo">Ensure you're in the right repo</a></li><li><a href="#project-structure">Project structure</a></li><li><a href="#set-the-repository-up">Set the repository up</a></li><li><a href="#learn-the-developer-workflow">Learn the developer workflow</a><ul class="toc-headings"><li><a href="#common-commands">Common commands</a></li><li><a href="#write-commit-messages">Write commit messages</a></li></ul></li><li><a href="#install-a-snapshot-release">Install a SNAPSHOT release</a><ul class="toc-headings"><li><a href="#depend-on-snapshot-releases">Depend on SNAPSHOT releases</a></li><li><a href="#install-a-snapshot-release-in-your-machine">Install a SNAPSHOT release in your machine</a></li><li><a href="#verify-the-installation-of-a-snapshot-release">Verify the installation of a SNAPSHOT release</a></li></ul></li><li><a href="#updating-documentation">Updating documentation</a><ul class="toc-headings"><li><a href="#prerequisites">Prerequisites</a></li><li><a href="#running">Running</a></li></ul></li><li><a href="#releasing">Releasing</a></li></ul></nav></div><footer class="nav-footer" id="footer" style="background-color:rgb(17, 42, 68)"><section class="sitemap"><a href="/bloop/" class="nav-home"><img src="/bloop/img/impure-logo-bloop.svg" alt="Bloop" height="60"/></a><a href="/bloop/" class="nav-home"><img src="/bloop/img/frontpage/scala.png" alt="Bloop" height="60"/></a><div><h5>Overview</h5><a href="/bloop/docs/what-is-bloop">What is Bloop</a><a href="/bloop/docs/integration">Integrate with Bloop</a><a href="/bloop/docs/build-tools/overview">Build Tools</a><a href=" /bloop/docs/contributing-guide">Contributing</a></div><div><h5>Build Tools</h5><a href="/bloop/docs/build-tools/sbt">sbt</a><a href="/bloop/docs/build-tools/gradle">Gradle</a><a href="/bloop/docs/build-tools/maven">Maven</a><a href="/bloop/docs/build-tools/mill">Mill</a></div><div><h5>Social</h5><a href="https://github.com/scalacenter/bloop" target="_blank"><img src="https://img.shields.io/github/stars/scalacenter/bloop.svg?color=%23087e8b&amp;label=stars&amp;logo=github&amp;style=social"/></a><a href="https://discord.gg/KWF9zMhJWS" target="_blank"><img src="https://img.shields.io/discord/632642981228314653?logo=discord&amp;style=social"/></a></div></section><section class="copyright">Copyright © 2024 Bloop</section><section class="copyright">Credits to @freepik for svg icons</section><section class="copyright">Credits to Bazel, Babel and Metals for inspiring Bloop&#x27;s website design</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: 'cf5bcb37b134346182da2be3f5e0a76b',
                indexName: 'bloop_scala',
                inputSelector: '#search_input_react'
              });
            </script></body></html>